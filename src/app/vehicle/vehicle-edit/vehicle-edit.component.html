<!-- src/app/vehicle/vehicle-edit.component.html -->
<div class="container mt-4">
  <h2 class="mb-4">Editar Vehículo</h2>

  <div *ngIf="loading" class="text-center">
    <div class="spinner-border"><span class="visually-hidden">Cargando...</span></div>
  </div>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <form
    *ngIf="!loading"
    [formGroup]="vehicleForm"
    (ngSubmit)="onSubmit()"
    class="row g-3"
  >
    <div class="col-md-4">
      <label class="form-label">Marca</label>
      <input formControlName="brand" class="form-control" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Serie</label>
      <input formControlName="series" class="form-control" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Último dígito placa</label>
      <input formControlName="lastPlateDigit" maxlength="1" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Modelo</label>
      <input formControlName="model" class="form-control" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Tipo</label>
      <input formControlName="type" class="form-control" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Capacidad</label>
      <input formControlName="capacity" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Precio</label>
      <input type="number" formControlName="price" class="form-control" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Sede</label>
      <select formControlName="locationId" class="form-select">
        <option [ngValue]="null">-- Seleccione --</option>
        <option *ngFor="let loc of locations" [ngValue]="loc.id">
          {{ loc.name }}
        </option>
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Asesor</label>
      <select formControlName="assessorId" class="form-select">
        <option [ngValue]="null">-- Seleccione --</option>
        <option *ngFor="let a of assessors" [ngValue]="a.id">
          {{ a.name }}
        </option>
      </select>
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary me-2" [disabled]="vehicleForm.invalid">
        Guardar
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">
        Cancelar
      </button>
    </div>
  </form>
</div>
